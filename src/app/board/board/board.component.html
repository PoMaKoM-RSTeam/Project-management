<div class="space">
  <space-left-aside></space-left-aside>
  <div class="space__main">
    <space-header></space-header>

    <board-header></board-header>
    <div
      cdkDropList
      (cdkDropListDropped)="dropColumns($event)"
      cdkDropListOrientation="horizontal"
      class="container-fluid"
    >
      <div cdkDropListGroup class="board">
        <div class="board-card" *ngFor="let column of boardData" cdkDrag cdkDragLockAxis="x">
          <!-- Column Title -->
          <div class="board-title column-header" cdkDropList (cdkDropListDropped)="drop($event)">
            <h2>{{ column.title }}</h2>
            <button
              class="button button__icon"
              nz-icon
              nzType="delete"
              nzTheme="outline"
              (click)="onDeleteColumn(column.id)"
            ></button>
          </div>

          <!-- Add New Card To Column -->
          <app-dialog
            (emitText)="onAddCard($event, column.id)"
            [question]="'Add new card in ' + column.title + ' column'"
          >
            <button class="btn-add" nzType="default" nz-button>+</button>
          </app-dialog>

          <!-- Color Panel -->
          <app-color-panel (emitColor)="onColorChange($event, column.id)"></app-color-panel>

          <div cdkDropList [cdkDropListData]="column.list" class="example-list" (cdkDropListDropped)="drop($event)">
            <div cdkDrag class="example-box" [ngStyle]="{ background: column.color }" *ngFor="let item of column.list">
              <app-board-item
                [item]="item"
                (emitText)="onAddComment($event, column.id)"
                (emitCardItem)="onChangeLike($event, column.id)"
                (emitDeleteCard)="onDeleteCard($event, column.id)"
              >
                <div *ngFor="let comment of item.comments">
                  <app-comment-item
                    [comment]="comment"
                    (emitComment)="onDeleteComment($event, column.id, item)"
                  ></app-comment-item>
                </div>
              </app-board-item>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
